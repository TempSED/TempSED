<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Utility functions for use with the TempSED models. Creates a truncated sinewave type of function. — Periodic functions • TempSED</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Utility functions for use with the TempSED models. Creates a truncated sinewave type of function. — Periodic functions"><meta property="og:description" content="

trunc_function returns a function that estimates variations within a certain period and that has a specific length within this period (input argument duration). The returned function can be used to estimate the value at any time (in seconds).
For instance, it can be used to estimate:
* light intensity variations within a day (periodicity 24 hours - daylength varies)
* water height over a tidal cycle (periodicity 12,4 hours - inundation period varies)"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TempSED</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/TempSED.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Utility functions for use with the TempSED models. Creates a truncated sinewave type of function.</h1>

    <div class="hidden name"><code>TempSEDfunctions.Rd</code></div>
    </div>

    <div class="ref-description">


<p><code>trunc_function</code> returns a function that estimates variations within a certain period and that has a specific length within this period (input argument <code>duration</code>). The returned function can be used to estimate the value at any time (in seconds).
For instance, it can be used to estimate:</p>
<p>* light intensity variations within a day (periodicity 24 hours - daylength varies)</p>
<p>* water height over a tidal cycle (periodicity 12,4 hours - inundation period varies)</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">trunc_function</span> <span class="op">(</span>period <span class="op">=</span> <span class="fl">86400</span>, duration <span class="op">=</span> <span class="va">period</span><span class="op">/</span><span class="fl">2</span>, offset <span class="op">=</span> <span class="fl">0</span>, trunc <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                average <span class="op">=</span> <span class="fl">1</span>, maximum <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<p></p>
<dl><dt id="arg-period-">period <a class="anchor" aria-label="anchor" href="#arg-period-"></a></dt>
<dd><p>periodicity of the function, in [s].</p></dd>

  <dt id="arg-average-maximum-">average, maximum <a class="anchor" aria-label="anchor" href="#arg-average-maximum-"></a></dt>
<dd><p>mean and maximum function-value, only one of those should be specified.</p></dd>

  <dt id="arg-duration-">duration <a class="anchor" aria-label="anchor" href="#arg-duration-"></a></dt>
<dd><p>seconds during which function is positive; the default is half of the time.</p></dd>

  <dt id="arg-trunc-">trunc <a class="anchor" aria-label="anchor" href="#arg-trunc-"></a></dt>
<dd><p>minimum value below the function should be truncated.</p></dd>

  <dt id="arg-offset-">offset <a class="anchor" aria-label="anchor" href="#arg-offset-"></a></dt>
<dd><p>time offset, in [s].</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>


<p><code>trunc_function</code> creates a periodic sinusoidal function with a give periodicity, and where the fraction of time that the function is nonzero can be specified. For instance to generate light within a day or within a year.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Karline Soetaert</p>
    </div>
    <div id="value">
    <h2>Value</h2>
    <p>A function that needs to be called with a time argument</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Light variations within a day</span></span></span>
<span class="r-in"><span><span class="va">DL5</span>  <span class="op">&lt;-</span> <span class="fu">trunc_function</span><span class="op">(</span>period   <span class="op">=</span> <span class="fl">86400</span>, </span></span>
<span class="r-in"><span>                       duration <span class="op">=</span>  <span class="fl">5</span><span class="op">*</span><span class="fl">3600</span>, </span></span>
<span class="r-in"><span>                       average  <span class="op">=</span> <span class="fl">150</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">DL10</span> <span class="op">&lt;-</span> <span class="fu">trunc_function</span><span class="op">(</span>period   <span class="op">=</span> <span class="fl">86400</span>, </span></span>
<span class="r-in"><span>                       duration <span class="op">=</span> <span class="fl">10</span><span class="op">*</span><span class="fl">3600</span>, </span></span>
<span class="r-in"><span>                       average  <span class="op">=</span> <span class="fl">150</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">DL15</span> <span class="op">&lt;-</span> <span class="fu">trunc_function</span><span class="op">(</span>period   <span class="op">=</span> <span class="fl">86400</span>, </span></span>
<span class="r-in"><span>                       duration <span class="op">=</span> <span class="fl">15</span><span class="op">*</span><span class="fl">3600</span>, </span></span>
<span class="r-in"><span>                       average  <span class="op">=</span> <span class="fl">150</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">DL20</span> <span class="op">&lt;-</span> <span class="fu">trunc_function</span><span class="op">(</span>period   <span class="op">=</span> <span class="fl">86400</span>, </span></span>
<span class="r-in"><span>                       duration <span class="op">=</span> <span class="fl">20</span><span class="op">*</span><span class="fl">3600</span>, </span></span>
<span class="r-in"><span>                       average  <span class="op">=</span> <span class="fl">150</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">1</span>, to <span class="op">=</span> <span class="fl">2</span><span class="op">*</span><span class="fl">24</span><span class="op">*</span><span class="fl">3600</span>, by <span class="op">=</span> <span class="fl">180</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">time</span><span class="op">/</span><span class="fl">3600</span>, <span class="fu">DL5</span><span class="op">(</span><span class="va">time</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>     type <span class="op">=</span> <span class="st">"l"</span>, xlab <span class="op">=</span> <span class="st">"hr"</span>,</span></span>
<span class="r-in"><span>     main <span class="op">=</span> <span class="st">"light intensity - mean=150 W/m2"</span>, ylab <span class="op">=</span> <span class="st">"W/m2"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">time</span><span class="op">/</span><span class="fl">3600</span>, <span class="fu">DL10</span><span class="op">(</span><span class="va">time</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">time</span><span class="op">/</span><span class="fl">3600</span>, <span class="fu">DL15</span><span class="op">(</span><span class="va">time</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">time</span><span class="op">/</span><span class="fl">3600</span>, <span class="fu">DL20</span><span class="op">(</span><span class="va">time</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">"green"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topleft"</span>, </span></span>
<span class="r-in"><span>        col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"green"</span><span class="op">)</span>, lty <span class="op">=</span> <span class="fl">1</span>, </span></span>
<span class="r-in"><span>        title <span class="op">=</span> <span class="st">"Day Length (hr)"</span>, legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">15</span>, <span class="fl">20</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Tidal variations</span></span></span>
<span class="r-in"><span><span class="va">T1</span>    <span class="op">&lt;-</span> <span class="fu">trunc_function</span><span class="op">(</span>period   <span class="op">=</span> <span class="fl">12.4</span><span class="op">*</span><span class="fl">3600</span>, </span></span>
<span class="r-in"><span>                        duration <span class="op">=</span>  <span class="fl">1</span><span class="op">*</span><span class="fl">3600</span>,   </span></span>
<span class="r-in"><span>                        maximum  <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">T6</span>    <span class="op">&lt;-</span> <span class="fu">trunc_function</span><span class="op">(</span>period   <span class="op">=</span> <span class="fl">12.4</span><span class="op">*</span><span class="fl">3600</span>, </span></span>
<span class="r-in"><span>                        duration <span class="op">=</span>  <span class="fl">6</span><span class="op">*</span><span class="fl">3600</span>,   </span></span>
<span class="r-in"><span>                        maximum  <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">T10</span>   <span class="op">&lt;-</span> <span class="fu">trunc_function</span><span class="op">(</span>period   <span class="op">=</span> <span class="fl">12.4</span><span class="op">*</span><span class="fl">3600</span>, </span></span>
<span class="r-in"><span>                        duration <span class="op">=</span> <span class="fl">10</span><span class="op">*</span><span class="fl">3600</span>,   </span></span>
<span class="r-in"><span>                        maximum  <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">T12.3</span> <span class="op">&lt;-</span> <span class="fu">trunc_function</span><span class="op">(</span>period   <span class="op">=</span> <span class="fl">12.4</span><span class="op">*</span><span class="fl">3600</span>, </span></span>
<span class="r-in"><span>                        duration <span class="op">=</span> <span class="fl">12.3</span><span class="op">*</span><span class="fl">3600</span>, </span></span>
<span class="r-in"><span>                        maximum  <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">time</span><span class="op">/</span><span class="fl">3600</span>, <span class="fu">T1</span><span class="op">(</span><span class="va">time</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>     type <span class="op">=</span> <span class="st">"l"</span>, xlab <span class="op">=</span> <span class="st">"hr"</span>, ylab <span class="op">=</span> <span class="st">"m"</span>,</span></span>
<span class="r-in"><span>     main <span class="op">=</span> <span class="st">"Water Height - max = 1 m, period=12.4H"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">time</span><span class="op">/</span><span class="fl">3600</span>, <span class="fu">T6</span><span class="op">(</span><span class="va">time</span><span class="op">)</span>,    col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">time</span><span class="op">/</span><span class="fl">3600</span>, <span class="fu">T10</span><span class="op">(</span><span class="va">time</span><span class="op">)</span>,   col <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">time</span><span class="op">/</span><span class="fl">3600</span>, <span class="fu">T12.3</span><span class="op">(</span><span class="va">time</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">"green"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topleft"</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"red"</span>, <span class="st">"blue"</span>, <span class="st">"green"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>       lty <span class="op">=</span> <span class="fl">1</span>, title <span class="op">=</span> <span class="st">"Tidal length (hr)"</span>, legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">6</span>, <span class="fl">10</span>, <span class="fl">12.3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="TempSEDfunctions-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Karline Soetaert.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

